#include "uart_com.h"
#include "xparameters.h"
#include "xil_types.h"
#include "xintc.h"
#include "xil_exception.h"
#include "xuartlite.h"








uart_com::uart_com(u32 ULITE_DEVICE_ID,u32 ULITE_INT_IRQ_ID,XUartLite* UPTR,XIntc* InterruptController,u32 XINTC_DEV_ID,char* Recv_Array,int is_first_interrupt){
	XUartLite_Initialize(UPTR, ULITE_DEVICE_ID);


	//XUartLite_SetSendHandler(UPTR, SendHandler, UPTR);
	XUartLite_SetRecvHandler(UPTR, RecvHandler, UPTR);
	XUartLite_EnableInterrupt(UPTR);
	if(is_first_interrupt){
		XIntc_Initialize(&InterruptController, INTC_DEVICE_ID);

	}
	else
	{

	}


	};

void uart_com::SendHandler(void* CallbackRef, unsigned int EventData) {
    //uart_com* uartInstance = static_cast<uart_com*>(CallbackRef);
    // Burada SendHandler iþlemleri gerçekleþtirin
}

void uart_com::RecvHandler(void* CallbackRef, unsigned int EventData) {

	XUartLite_Recv(UPTR, single_bit_buffer, 1);
}
